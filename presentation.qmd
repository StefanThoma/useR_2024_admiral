---
title: "`admiral` - The `dplyr` of the pharmaceutical industry?"
author: 
 - Stefan Thoma
 - Edoardo Mancini
date: today
format: revealjs
editor: visual
---

## Another side to "Big Pharma"?

![](media/evil_scientist.jpg){fig-align="center" width=60% height=60%}

::: notes
Section duration: 2 min

The pharmaceutical industry is comprised of hundreds of large, billion dollar companies, active in countless therapeutic areas and indications. We won't delve into this in too much detail, but it's safe to say that the image of "big pharma" in popular culture is one of greedy companies who put themselves and their profits ahead of the patients' needs.

While we do believe that there is more subtlety here than meets the eye, we won't dispute any of these claims today. Rather, in our presentation we hope to showcase a different side of big pharma - one of collaboration and cooperation towards the ultimate goal of doing more for patients around the world. 

To do this, we need to establish a few key facts first:

* Historically, pharma companies have been very protective of both their clinical trial data - which makes total sense - but also their code, i.e. what they use to analyse their ongoing trials. This has resulted in lots of companies independently developing toolsets that effectively carry out very similar purposes.

* These toolsets were primarily written in SAS, a statistical software which has been industry-standard for 20+ years.

:::

## What is ADaM, and why {admiral}?

- In 2016 CDISC introduced the **Analysis Data Model (ADaM)**. This is a therapeutic-area-agnostic set of guidelines for clinical trial dataset structure.
- ADaM lends itself to a modular tool for dataset generation.

::: {layout-ncol=2}
![](media/cdisc.png){width=40% height=40%}

![](media/lego.png){width=20% height=20%}

:::

::: notes
Section duration: 4 min

In 2016, CDISC, which is an institution which sets data standards across the industry, introduced the Analysis Data Model, also known as ADaM. Without delving into too much detail, this can be thought of as a precise set of guidelines mandating the structure of the datasets that underpin clinical trial analysis. So, every company running a clinical trial after 2016 - no matter the therapeutic area - was now required to convert their collected, raw data into ADaM datasets prior to creating the tables, listings and graphs that will be used to evaluate the trial's outcome.

Note that we are glossing over the fact that there exists an intermediate set of datasets called SDTM datasets between the raw datasets step and the ADaM step. This isn't so relevant for our presentation, other than for the fact that it means the starting point for the ADaM datsets is also common across industry.

We also don't need to go into too much detail about what ADaM datasets actually look like, but it's important to understand that the steps used to construct them are often dataset-agnostic. Some examples include:

* Merging a subset of a dataset with another dataset
* Adding derived records based on existing ones
* Converting character strings to dates and imputing missing values

Consequently, it stands to reason that if ever a tool (or package) could exist to aid in the generation of these ADaMs, this tool could be modular: various derivations could be chained together like  and customised to generate your dataset of interest. Ideally, this package would also interact seamlessly with the {tidyverse}, so that if ever a step for adding a new variable was trivial, then simple {dplyr} code could be slotted in to your derivation sequence. This idea is exactly the thought behind the inception of the {admiral} package.
:::

## {admiral}

:::: {.columns}

::: {.column width=60%}

- **Modular functions** extending dplyr, and **manuals** and **templates**
  - Core functionality that can be extended to specific therapeutic areas
  - Specific to very standardized data and processes
- Created by users for users

:::


::: {.column width=40%}

![](media/admiral.png)

:::

::::

::: notes

In my view, admiral brings to the table three types of technical value. 
- First and most obvious: admiral provides a modular framework for data manipulation that is tailored to the creation of ADaM data sets.
The value of admiral is not just the functions though, but also the extensive manuals that describe the programming processes and the templates that give a good starting point for creating different types of ADaM data sets.

Additionally, the community of users and developers, and the fact that these two overlap is another benefit. 
This allows for efficient development and very short feedback lines.


:::

<!-- maybe not needed!  -->
<!-- ## Origin of {admiral} -->
<!-- :::: {.columns} -->

<!-- ::: {.column width=60%} -->

<!-- - Open Source from the very beginning -->
<!-- - First of its kind in open source pharma -->
<!-- - Starting point of the [pharmaverse](https://pharmaverse.org/) -->

<!-- ::: -->


<!-- ::: {.column width=40%} -->


<!-- ![](media/pharmaverse.png) -->

<!-- ::: -->

<!-- :::: -->

<!-- ::: notes -->
<!-- Introduce Admiral and Pharmaverse as pioneering open-source efforts in pharma, and discuss the advantages of using R over SAS. -->
<!-- ::: -->

## Scope of {admiral}
- Establish {admiral} workflow as *the* standard for ADaM creation
  - Build trust
  - Split into core and extension packages


:::notes
- Establish {admiral} workflow as *the* standard for ADaM creation
both across the industry and across all therapeutic areas

This means that other companies must trust the product, as switching to R is no small feat. 
We must provide a stable solution that is accepted by regulators
that will not be abandoned anytime soon

Would not want to again develop all the same functionalities within different companies

:::

## Trust

- Open source from the start 
- Involve community early on
  - Serve the needs of many, not just of one company
- Started as a collaboration of GSK and Roche
  - Commitment and funding from both Roche and GSK makes it hard to ignore
  - Hard for either company to monetize
  - Ensures that the package stays open source and free to use
  - Maintenance

## Align extension packages with {admiral}:  Aim

- Same user “feel” & language
- Compatible modularity
- Same development practices
- Stability and trust
    - if there is a bad admiral package out there this will erode trust also in the core package, as differentiation is not easy / sensible
    - eroding trust means less users and less adoption of open source in the industry
    
::: notes

:::
## Align extension packages with {admiral}: Learnings
 Strategies to get there: 
- Instructions
    - admiraldevs rules & templates
    - Git Structure
        - CICD
    - one core member will be part of the new extension to either work or regularly consult
- Expectation management:
    - Small scope!
    - Effort required
    - Assigned FTE

## How to foster cross-company collaboration (5min)

- "Showing your hand" first
- Assigning people with significant time percentages to OS work
- Legal considerations?

::: notes

This could maybe go into the previous slide
Outline strategies for fostering cross-company collaboration, such as transparency, dedicated resource allocation, and navigating legal considerations.
:::

## A success story: {admiralvaccine}

- The COVID-19 pandemic was a worldwide catastrophe, but it was also an opportunity to **collaborate further** within pharma...
- ... Enter {admiralvaccine}!

::: {layout-ncol=2}
![](media/covid.jpg){width=40% height=40%}

![](media/admiralvaccine.png){width=15% height=15%}
:::

::: notes
Section duration: 3 min

One of the greatest successes of our cross-company collaboration lies in the story behind the creation of an admiral extension package to deal with vaccine data. 

To set the scene for you all, within the pharmaceutical industry and the wider world there was a great deal of interest in the area of vaccines during the period between 2020 and 2023 (for obvious reasons). From the outside, we all saw how quickly companies like Pfizer, Moderna and Astra Zeneca were able to bring Covid-19 vaccines to market. You will all appreciate that within the pharma industry, this required huge efforts all areas of drug development, one of which naturally was the creation of vaccine-specific ADaM datasets. 

To cut a long story short, the atmosphere of cross-company collaboration and the contribution framework that we had set up within the {admiral} family meant that we in the {admiral} family were able to connect with programmers from Pfizer, which was a company that had not meaningfully contributed to the open-source {admiral} efforts previously, and empower them take the lead on the creation of {admiralvaccine} - a vaccine-specific extension to {admiral}. The package was co-developed in partnership with two other big pharma companies GSK and Novartis, as well as members of the core {admiral} team who supported the upskilling of this new team and ensured package contents was up to par with our standards. The {admiralvaccine} package released its first version in the summer of 2023, and enabled the sponsor companies to share and open-source many of the vaccine-related learnings they had acquired during the pandemic, and we firmly believe that this will foster even more cross-industry collaborations to tackle any challenges the future might hold.

We should stress that not all aspects of this experience were strictly positive: one chief observation we made was that the team behind the vaccines package was laser-focused on releasing a first version of {admiralvaccine}, but lost lots of interest as the time came to later maintain the package. Maybe this was a by-product of the huge drive and pressure to deliver in the short term that those involved had experienced when working on the vaccines themselves. Consequently within the core {admiral} team we had to work with the {admiralvaccine} leads to convey the importance of package maintenance, and this is an area that we are still working on to this day.

:::

## {admiral}: Looking ahead 

Training models on {admrial} documentation: could genAI be the next frontier?

::: {layout-ncol=2}
![](media/admiral_website.png){width=15% height=15%}

![](media/ai.png){width=20% height=20%}

:::

::: notes
Section duration {1 min}

Similar to {dplyr}, the core {admiral} package has now reached a point of maturity and stability, where we do not anticipate the need for large overhauls of our material in the future. At the same time, our documentation has undergone many rounds of review and is robust and extensive. Industry uptake is contantly on the rise and we see a near future where it is **the** default solution for ADaM creation.

As such, one avenue for improvement in the future is with regards to the learning curve required to get used to the package. AI is all the rage right now, so why not try to apply it to {admiral} as well? At the moment, there are efforts internally at various companies to train LLMs and chatbots on {admiral} documentation, which have proven quite fruitful. There hasn't yet been an Open Source effort in this space, though it is true that because everything is Open Source, the next re-training of something like Chat GPT may suddenly result in the model being an expert on ADaM creation!

So, we are very excited for what the future holds!

_Note: could also talk about automation efforts for {admiral}, but wery of time and having to descrive things like specs first._
:::

## Q&A and Resources

::: notes
Add: admiral website, cheat sheet, anything else?
:::



